<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Edge detector ultimate</title>
</head>
<body>
<script defer>
    var isChakraLegacy = undefined;
    function TestBrwsr() {
        try {
           eval("try { isChakraLegacy = false; } catch {}");
       } catch (ex) {
           isChakraLegacy = true;
       }
        if (navigator.appVersion.includes(" Edge/") && navigator.appVersion.includes(" Chrome/") && isChakraLegacy) {
            if (navigator.platform === "Win32" && navigator.appVersion.includes("Windows Phone 10.0")) {
                if (navigator.appVersion.includes(" WebView/")) {
                    return 'x86 Mobile Edge (Emulator?) WebView';
                } else {
                    return 'x86 Mobile Edge (Emulator?)';
                }
            } else if (navigator.platform === "Win32") {
                if (navigator.appVersion.includes(" WebView/")) {
                    return 'Desktop Edge Legacy WebView';
                } else {
                    return 'Desktop Edge Legacy';
                }
            } else if (navigator.platform === "ARM" && navigator.appVersion.includes("Windows Phone 10.0")) {
                if ("msCredentials" in navigator) {
                    return 'Ledge type 1';
                    return 'ARM Desktop Edge Legacy (Mobile UserAgent)';
                } else if ("credentials" in navigator) {
                    return 'Ledge type 2';
                    return 'ARM Desktop Edge Legacy (Mobile UserAgent)';
                } else {
                    if (navigator.appVersion.includes(" WebView/")) {
                        return 'Mobile Edge WebView';
                    } else {
                        return 'Mobile Edge Physical';
                    }
                }
            } else if (navigator.platform === "ARM") {
                return ''
                if (navigator.appVersion.includes(" WebView/")) {
                    return 'ARM Desktop Edge Legacy WebView';
                } else {
                    return 'ARM Desktop Edge Legacy';
                }
            } else {
                return 'Seems like Edge Legacy on ' + navigator.platform + ' architecure. Take a screenshot!';
            }
        } else if (navigator.appVersion.includes(" Edg/") && navigator.appVersion.includes(" Chrome/")) {
            if (isChakraLegacy) {
                return 'Mobile Edge with fake Chromium Edge User Agent';
            } else {
                return 'Chromium Edge';
            }
        } else if (navigator.appVersion.includes(" Chrome/")) {
            if (!isChakraLegacy) {
                return 'Most likely Chrome or Chromium based';
            } else {
                return 'Mobile Edge with fake Chrome User Agent';
                if (navigator.appVersion.includes(" WebView/")) {
                    return 'Mobile Edge with fake Chrome User Agent (WebView)';
                } else {
                    return 'Mobile Edge with fake Chrome User Agent';
                }
            }
        } else {
            return 'Unrecognized (Firefox, Safari, etc.)';
        }
    }
   function TestBrwsrW() {
      document.body.innerText = TestBrwsr();
   }
</script>
<button onclick="TestBrwsrW()">Test</button>
</body>
<html>
